<<<<<<< HEAD
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FeelLog - Login</title>
  <link rel="stylesheet" href="project2.css">
</head>
<body>

  <!-- 헤더가 로드될 자리 -->
 <div id="header-placeholder"></div>
 

  <!-- 로그인 페이지 내용 -->
  <div class="auth-page">
    <h2>Login</h2>
    <form id="login-form">
      <input id="email" type="text" placeholder="Email" name="email" required>
      <input id="password" type="password" placeholder="Password" name="password" required>
      <button type="submit">Login</button>
    </form>
  </div>
  <script src="header.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
    const loginForm = document.getElementById("login-form");

    if (loginForm) {
        loginForm.addEventListener("submit", (event) => {
            event.preventDefault(); // 기본 폼 제출 방지

            // 입력값 가져오기
            const email = document.getElementById("email").value.trim();
            const password = document.getElementById("password").value.trim();

            // 로그인 API 호출
            fetch('http://localhost:8080/user/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    user_id: email,
                    password: password,
                }),
            })
                .then(response => {
                    if (response.ok) {
                        return response.json(); // 응답 데이터 파싱
                    } else if (response.status === 404) {
                        throw new Error("아이디를 찾을 수 없습니다.");
                    } else if (response.status === 401) {
                        throw new Error("잘못된 비밀번호입니다.");
                    } else {
                        throw new Error("로그인 실패");
                    }
                })
                .then(data => {
                    // 로그인 성공 처리
                    console.log("로그인 성공:", data);
                    alert(`환영합니다, ${data.user_name}!`);
                    
                    // 토큰 저장
                    localStorage.setItem("token", data.token);
                    localStorage.setItem("isLoggedIn", "true");
                    
                    // 홈 페이지로 리디렉션
                    window.location.href = "index.html";
                })
                .catch(error => {
                    // 에러 처리
                    console.error("로그인 에러 발생:", error.message);
                    alert(error.message);
                });
        });
    } else {
        console.error("login-form을 찾을 수 없습니다.");
    }
});
  </script>
</body>
</html>
=======
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FeelLog - Login</title>
  <link rel="stylesheet" href="project2.css">
</head>
<body>

  <!-- 헤더가 로드될 자리 -->
 <div id="header-placeholder"></div>
 

  <!-- 로그인 페이지 내용 -->
  <div class="auth-page">
    <h2>Login</h2>
    <form id="login-form">
      <input id="email" type="text" placeholder="Email" name="email" required>
      <input id="password" type="password" placeholder="Password" name="password" required>
      <button type="submit">Login</button>
    </form>
  </div>
  <script src="header.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
    const loginForm = document.getElementById("login-form");

    if (loginForm) {
        loginForm.addEventListener("submit", (event) => {
            event.preventDefault(); // 기본 폼 제출 방지

            // 입력값 가져오기
            const email = document.getElementById("email").value.trim();
            const password = document.getElementById("password").value.trim();

            // 로그인 API 호출
            fetch('http://localhost:8080/user/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    user_id: email,
                    password: password,
                }),
            })
                .then(response => {
                    if (response.ok) {
                        return response.json(); // 응답 데이터 파싱
                    } else if (response.status === 404) {
                        throw new Error("아이디를 찾을 수 없습니다.");
                    } else if (response.status === 401) {
                        throw new Error("잘못된 비밀번호입니다.");
                    } else {
                        throw new Error("로그인 실패");
                    }
                })
                .then(data => {
                    // 로그인 성공 처리
                    console.log("로그인 성공:", data);
                    alert(`환영합니다, ${data.user_name}!`);
                    
                    // 토큰 저장
                    localStorage.setItem("token", data.token);
                    localStorage.setItem("isLoggedIn", "true");
                    
                    // 홈 페이지로 리디렉션
                    window.location.href = "index.html";
                })
                .catch(error => {
                    // 에러 처리
                    console.error("로그인 에러 발생:", error.message);
                    alert(error.message);
                });
        });
    } else {
        console.error("login-form을 찾을 수 없습니다.");
    }
});
  </script>
</body>
</html>
>>>>>>> 0eeb2518d1b0341fc7a15ee384c0131d58d8c592
